2025-04-25 13:58:09.512 +01:00 [INF] Application is running...
2025-04-25 13:58:09.797 +01:00 [WRN] Overriding address(es) 'http://localhost:5099'. Binding to endpoints defined via IConfiguration and/or UseKestrel() instead.
2025-04-25 13:58:09.869 +01:00 [INF] Server running on http://[::]:5099
2025-04-25 13:58:09.871 +01:00 [INF] Server running on https://[::]:7257
2025-04-25 13:59:00.964 +01:00 [INF] Received Login Request: {"Email":"josephogunsuyi580@gmail.com","Password":"@Jozzy360","$type":"LoginUser"}
2025-04-25 13:59:05.237 +01:00 [ERR] Request 0HNC3V3P9JDMN:00000001 failed with 500. Path: /api/AuthApi/login
System.NullReferenceException: Object reference not set to an instance of an object.
   at BookLibrary.Server.Application.Services.Implementation.AuthenticationService.LoginAsync(LoginUser user) in C:\Users\Emmijozzy\Desktop\C-sharp\BookLibrary\BookLibrary.Server\BookLibrary.Server.Application\Services\Implementation\AuthenticationService.cs:line 54
   at BookLibrary.Server.Host.Controllers.AuthApiController.Login(LoginUser loginRequest) in C:\Users\Emmijozzy\Desktop\C-sharp\BookLibrary\BookLibrary.Server\BookLibrary.Server.Host\Controllers\AuthApiController.cs:line 17
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeFilterPipelineAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at BookLibrary.Server.Host.Middleware.ErrorHandlingMiddleware.InvokeAsync(HttpContext context) in C:\Users\Emmijozzy\Desktop\C-sharp\BookLibrary\BookLibrary.Server\BookLibrary.Server.Host\Middleware\ErrorHandlingMiddleware.cs:line 24
2025-04-25 14:03:39.787 +01:00 [INF] Received Login Request: {"Email":"josephogunsuyi360@gmail.com","Password":"@Test1234","$type":"LoginUser"}
2025-04-25 14:03:40.790 +01:00 [INF] Request 0HNC3V3P9JDMP:00000001 completed successfully. Path: /api/AuthApi/login
2025-04-25 14:03:55.223 +01:00 [INF] Received Login Request: {"Email":"josephogunsuyi360gmail.com","Password":"@Test1234","$type":"LoginUser"}
2025-04-25 14:03:55.238 +01:00 [WRN] Request 0HNC3V3P9JDMP:00000002 failed. Path: /api/AuthApi/login, Errors: Invalid email format
2025-04-25 14:05:11.035 +01:00 [INF] Received Login Request: {"Email":"josephogunsuyi360@gmail.com","Password":"@Test1234","$type":"LoginUser"}
2025-04-25 14:05:11.179 +01:00 [INF] Request 0HNC3V3P9JDMR:00000001 completed successfully. Path: /api/AuthApi/login
2025-04-25 14:05:12.144 +01:00 [INF] Request 0HNC3V3P9JDMR:00000003 completed successfully. Path: /api/Book/all
2025-04-25 14:05:21.687 +01:00 [INF] Removing refresh token for user 25623af3-5cf2-414f-be26-57c58ab90569
2025-04-25 14:05:21.705 +01:00 [INF] Request 0HNC3V3P9JDMT:00000001 completed successfully. Path: /api/AuthApi/logout
2025-04-25 14:05:33.820 +01:00 [INF] Received Login Request: {"Email":"josephogunsuyi360@gmail.com","Password":"@Test1234","$type":"LoginUser"}
2025-04-25 14:05:33.946 +01:00 [INF] Request 0HNC3V3P9JDMV:00000001 completed successfully. Path: /api/AuthApi/login
2025-04-25 14:11:14.693 +01:00 [INF] Application is running...
2025-04-25 14:11:14.967 +01:00 [WRN] Overriding address(es) 'https://localhost:7257, http://localhost:5099'. Binding to endpoints defined via IConfiguration and/or UseKestrel() instead.
2025-04-25 14:11:15.144 +01:00 [INF] Server running on http://[::]:5099
2025-04-25 14:11:15.145 +01:00 [INF] Server running on https://[::]:7257
2025-04-25 14:16:36.846 +01:00 [ERR] Entity with ID "9fbb75ee-8bb7-4d12-a2f6-54846c695aa6" not found
System.Collections.Generic.KeyNotFoundException: Entity with ID 9fbb75ee-8bb7-4d12-a2f6-54846c695aa6 not found.
   at BookLibrary.Server.Infrastructure.Repository.Generic`1.GetByIdAsync(Guid id, String includeProperties) in C:\Users\Emmijozzy\Desktop\C-sharp\BookLibrary\BookLibrary.Server\BookLibrary.Server.Infrastructure\Repository\Generic.cs:line 133
2025-04-25 14:16:37.481 +01:00 [ERR] Request 0HNC3VAKBA4P8:00000005 failed with 404. Path: /api/Book/9fbb75ee-8bb7-4d12-a2f6-54846c695aa6
System.Collections.Generic.KeyNotFoundException: Entity with ID 9fbb75ee-8bb7-4d12-a2f6-54846c695aa6 not found.
   at BookLibrary.Server.Infrastructure.Repository.Generic`1.GetByIdAsync(Guid id, String includeProperties) in C:\Users\Emmijozzy\Desktop\C-sharp\BookLibrary\BookLibrary.Server\BookLibrary.Server.Infrastructure\Repository\Generic.cs:line 133
   at BookLibrary.Server.Application.Services.Implementation.BookService.GetById(Guid id, String includeProperties) in C:\Users\Emmijozzy\Desktop\C-sharp\BookLibrary\BookLibrary.Server\BookLibrary.Server.Application\Services\Implementation\BookService.cs:line 127
   at BookLibrary.Server.Host.Controllers.BookController.Get(Guid id, String IncludeProperties) in C:\Users\Emmijozzy\Desktop\C-sharp\BookLibrary\BookLibrary.Server\BookLibrary.Server.Host\Controllers\BookController.cs:line 41
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at BookLibrary.Server.Host.Middleware.ErrorHandlingMiddleware.InvokeAsync(HttpContext context) in C:\Users\Emmijozzy\Desktop\C-sharp\BookLibrary\BookLibrary.Server\BookLibrary.Server.Host\Middleware\ErrorHandlingMiddleware.cs:line 24
2025-04-25 14:17:15.738 +01:00 [INF] Request 0HNC3VAKBA4P8:00000006 completed successfully. Path: /api/Book/all
2025-04-25 14:21:29.264 +01:00 [ERR] Request 0HNC3VAKBA4PE:00000001 failed with 401. Path: /api/Book/add
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: Unauthorized: Token has expired.
   at BookLibrary.Server.Infrastructure.DependencyInjection.ServiceContainer.<>c.<AddInfrastructureService>b__0_5(JwtBearerChallengeContext context) in C:\Users\Emmijozzy\Desktop\C-sharp\BookLibrary\BookLibrary.Server\BookLibrary.Server.Infrastructure\DependencyInjection\ServiceContainer.cs:line 80
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerEvents.Challenge(JwtBearerChallengeContext context)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleChallengeAsync(AuthenticationProperties properties)
   at Microsoft.AspNetCore.Authentication.AuthenticationHandler`1.ChallengeAsync(AuthenticationProperties properties)
   at Microsoft.AspNetCore.Authentication.AuthenticationService.ChallengeAsync(HttpContext context, String scheme, AuthenticationProperties properties)
   at Microsoft.AspNetCore.Authorization.Policy.AuthorizationMiddlewareResultHandler.<>c__DisplayClass0_0.<<HandleAsync>g__Handle|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at BookLibrary.Server.Host.Middleware.ErrorHandlingMiddleware.InvokeAsync(HttpContext context)
2025-04-25 14:21:37.359 +01:00 [INF] Received Login Request: {"Email":"josephogunsuyi360@gmail.com","Password":"@Test1234","$type":"LoginUser"}
2025-04-25 14:21:38.175 +01:00 [INF] Request 0HNC3VAKBA4PE:00000002 completed successfully. Path: /api/AuthApi/login
2025-04-25 16:22:56.996 +01:00 [INF] Application is running...
2025-04-25 16:22:57.397 +01:00 [WRN] Overriding address(es) 'https://localhost:7257, http://localhost:5099'. Binding to endpoints defined via IConfiguration and/or UseKestrel() instead.
2025-04-25 16:22:57.578 +01:00 [INF] Server running on http://[::]:5099
2025-04-25 16:22:57.582 +01:00 [INF] Server running on https://[::]:7257
2025-04-25 16:23:01.111 +01:00 [ERR] An unhandled exception has occurred while executing the request.
Swashbuckle.AspNetCore.SwaggerGen.SwaggerGeneratorException: Failed to generate Operation for action - BookLibrary.Server.Host.Controllers.BookController.Create (BookLibrary.Server.Host). See inner exception
 ---> Swashbuckle.AspNetCore.SwaggerGen.SwaggerGeneratorException: Error reading parameter(s) for action BookLibrary.Server.Host.Controllers.BookController.Create (BookLibrary.Server.Host) as [FromForm] attribute used with IFormFile. Please refer to https://github.com/domaindrivendev/Swashbuckle.AspNetCore#handle-forms-and-file-uploads for more information
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GenerateParameters(ApiDescription apiDescription, SchemaRepository schemaRespository)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GenerateOperation(ApiDescription apiDescription, SchemaRepository schemaRepository)
   --- End of inner exception stack trace ---
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GenerateOperation(ApiDescription apiDescription, SchemaRepository schemaRepository)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GenerateOperations(IEnumerable`1 apiDescriptions, SchemaRepository schemaRepository)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GeneratePaths(IEnumerable`1 apiDescriptions, SchemaRepository schemaRepository)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GetSwaggerDocumentWithoutFilters(String documentName, String host, String basePath)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GetSwaggerAsync(String documentName, String host, String basePath)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-04-25 16:23:07.533 +01:00 [ERR] An unhandled exception has occurred while executing the request.
Swashbuckle.AspNetCore.SwaggerGen.SwaggerGeneratorException: Failed to generate Operation for action - BookLibrary.Server.Host.Controllers.BookController.Create (BookLibrary.Server.Host). See inner exception
 ---> Swashbuckle.AspNetCore.SwaggerGen.SwaggerGeneratorException: Error reading parameter(s) for action BookLibrary.Server.Host.Controllers.BookController.Create (BookLibrary.Server.Host) as [FromForm] attribute used with IFormFile. Please refer to https://github.com/domaindrivendev/Swashbuckle.AspNetCore#handle-forms-and-file-uploads for more information
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GenerateParameters(ApiDescription apiDescription, SchemaRepository schemaRespository)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GenerateOperation(ApiDescription apiDescription, SchemaRepository schemaRepository)
   --- End of inner exception stack trace ---
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GenerateOperation(ApiDescription apiDescription, SchemaRepository schemaRepository)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GenerateOperations(IEnumerable`1 apiDescriptions, SchemaRepository schemaRepository)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GeneratePaths(IEnumerable`1 apiDescriptions, SchemaRepository schemaRepository)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GetSwaggerDocumentWithoutFilters(String documentName, String host, String basePath)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GetSwaggerAsync(String documentName, String host, String basePath)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-04-25 16:23:41.952 +01:00 [INF] Received Login Request: {"Email":"josephogunsuyi360@gmail.com","Password":"@Test1234","$type":"LoginUser"}
2025-04-25 16:23:47.394 +01:00 [INF] Request 0HNC41K7HO0LC:00000001 completed successfully. Path: /api/AuthApi/login
2025-04-25 16:24:39.403 +01:00 [ERR] Request 0HNC41K7HO0LE:00000001 failed with 401. Path: /api/Book/all
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: Unauthorized: Token has expired.
   at BookLibrary.Server.Infrastructure.DependencyInjection.ServiceContainer.<>c.<AddInfrastructureService>b__0_5(JwtBearerChallengeContext context) in C:\Users\Emmijozzy\Desktop\C-sharp\BookLibrary\BookLibrary.Server\BookLibrary.Server.Infrastructure\DependencyInjection\ServiceContainer.cs:line 80
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerEvents.Challenge(JwtBearerChallengeContext context)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleChallengeAsync(AuthenticationProperties properties)
   at Microsoft.AspNetCore.Authentication.AuthenticationHandler`1.ChallengeAsync(AuthenticationProperties properties)
   at Microsoft.AspNetCore.Authentication.AuthenticationService.ChallengeAsync(HttpContext context, String scheme, AuthenticationProperties properties)
   at Microsoft.AspNetCore.Authorization.Policy.AuthorizationMiddlewareResultHandler.<>c__DisplayClass0_0.<<HandleAsync>g__Handle|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at BookLibrary.Server.Host.Middleware.ErrorHandlingMiddleware.InvokeAsync(HttpContext context) in C:\Users\Emmijozzy\Desktop\C-sharp\BookLibrary\BookLibrary.Server\BookLibrary.Server.Host\Middleware\ErrorHandlingMiddleware.cs:line 24
2025-04-25 16:24:50.505 +01:00 [INF] Request 0HNC41K7HO0LE:00000003 completed successfully. Path: /api/AuthApi/RefreshToken
2025-04-25 16:24:50.827 +01:00 [INF] Request 0HNC41K7HO0LE:00000005 completed successfully. Path: /api/Book/all
2025-04-25 16:24:57.015 +01:00 [INF] Request 0HNC41K7HO0LE:00000007 completed successfully. Path: /api/Category/all
2025-04-25 16:40:52.425 +01:00 [INF] Application is running...
2025-04-25 16:40:52.936 +01:00 [WRN] Overriding address(es) 'https://localhost:7257, http://localhost:5099'. Binding to endpoints defined via IConfiguration and/or UseKestrel() instead.
2025-04-25 16:40:53.211 +01:00 [INF] Server running on http://[::]:5099
2025-04-25 16:40:53.213 +01:00 [INF] Server running on https://[::]:7257
2025-04-25 16:40:55.620 +01:00 [ERR] An unhandled exception has occurred while executing the request.
Swashbuckle.AspNetCore.SwaggerGen.SwaggerGeneratorException: Failed to generate Operation for action - BookLibrary.Server.Host.Controllers.BookController.Create (BookLibrary.Server.Host). See inner exception
 ---> Swashbuckle.AspNetCore.SwaggerGen.SwaggerGeneratorException: Error reading parameter(s) for action BookLibrary.Server.Host.Controllers.BookController.Create (BookLibrary.Server.Host) as [FromForm] attribute used with IFormFile. Please refer to https://github.com/domaindrivendev/Swashbuckle.AspNetCore#handle-forms-and-file-uploads for more information
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GenerateParameters(ApiDescription apiDescription, SchemaRepository schemaRespository)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GenerateOperation(ApiDescription apiDescription, SchemaRepository schemaRepository)
   --- End of inner exception stack trace ---
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GenerateOperation(ApiDescription apiDescription, SchemaRepository schemaRepository)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GenerateOperations(IEnumerable`1 apiDescriptions, SchemaRepository schemaRepository)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GeneratePaths(IEnumerable`1 apiDescriptions, SchemaRepository schemaRepository)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GetSwaggerDocumentWithoutFilters(String documentName, String host, String basePath)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GetSwaggerAsync(String documentName, String host, String basePath)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-04-25 16:41:14.928 +01:00 [ERR] Request 0HNC41U7UPP9V:00000003 failed with 401. Path: /api/Book/add
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: Unauthorized: Token has expired.
   at BookLibrary.Server.Infrastructure.DependencyInjection.ServiceContainer.<>c.<AddInfrastructureService>b__0_5(JwtBearerChallengeContext context) in C:\Users\Emmijozzy\Desktop\C-sharp\BookLibrary\BookLibrary.Server\BookLibrary.Server.Infrastructure\DependencyInjection\ServiceContainer.cs:line 80
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerEvents.Challenge(JwtBearerChallengeContext context)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleChallengeAsync(AuthenticationProperties properties)
   at Microsoft.AspNetCore.Authentication.AuthenticationHandler`1.ChallengeAsync(AuthenticationProperties properties)
   at Microsoft.AspNetCore.Authentication.AuthenticationService.ChallengeAsync(HttpContext context, String scheme, AuthenticationProperties properties)
   at Microsoft.AspNetCore.Authorization.Policy.AuthorizationMiddlewareResultHandler.<>c__DisplayClass0_0.<<HandleAsync>g__Handle|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at BookLibrary.Server.Host.Middleware.ErrorHandlingMiddleware.InvokeAsync(HttpContext context) in C:\Users\Emmijozzy\Desktop\C-sharp\BookLibrary\BookLibrary.Server\BookLibrary.Server.Host\Middleware\ErrorHandlingMiddleware.cs:line 24
2025-04-25 16:41:30.563 +01:00 [ERR] Request 0HNC41U7UPPA0:00000003 failed with 401. Path: /api/Book/add
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: Unauthorized: Token has expired.
   at BookLibrary.Server.Infrastructure.DependencyInjection.ServiceContainer.<>c.<AddInfrastructureService>b__0_5(JwtBearerChallengeContext context) in C:\Users\Emmijozzy\Desktop\C-sharp\BookLibrary\BookLibrary.Server\BookLibrary.Server.Infrastructure\DependencyInjection\ServiceContainer.cs:line 80
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerEvents.Challenge(JwtBearerChallengeContext context)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleChallengeAsync(AuthenticationProperties properties)
   at Microsoft.AspNetCore.Authentication.AuthenticationHandler`1.ChallengeAsync(AuthenticationProperties properties)
   at Microsoft.AspNetCore.Authentication.AuthenticationService.ChallengeAsync(HttpContext context, String scheme, AuthenticationProperties properties)
   at Microsoft.AspNetCore.Authorization.Policy.AuthorizationMiddlewareResultHandler.<>c__DisplayClass0_0.<<HandleAsync>g__Handle|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at BookLibrary.Server.Host.Middleware.ErrorHandlingMiddleware.InvokeAsync(HttpContext context) in C:\Users\Emmijozzy\Desktop\C-sharp\BookLibrary\BookLibrary.Server\BookLibrary.Server.Host\Middleware\ErrorHandlingMiddleware.cs:line 24
2025-04-25 16:41:42.486 +01:00 [INF] Removing refresh token for user 25623af3-5cf2-414f-be26-57c58ab90569
2025-04-25 16:41:44.376 +01:00 [INF] Removing refresh token for user 25623af3-5cf2-414f-be26-57c58ab90569
2025-04-25 16:41:52.015 +01:00 [ERR] Request 0HNC41U7UPPA2:00000005 failed with 401. Path: /api/Category/all
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: Unauthorized: Token has expired.
   at BookLibrary.Server.Infrastructure.DependencyInjection.ServiceContainer.<>c.<AddInfrastructureService>b__0_5(JwtBearerChallengeContext context) in C:\Users\Emmijozzy\Desktop\C-sharp\BookLibrary\BookLibrary.Server\BookLibrary.Server.Infrastructure\DependencyInjection\ServiceContainer.cs:line 80
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerEvents.Challenge(JwtBearerChallengeContext context)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleChallengeAsync(AuthenticationProperties properties)
   at Microsoft.AspNetCore.Authentication.AuthenticationHandler`1.ChallengeAsync(AuthenticationProperties properties)
   at Microsoft.AspNetCore.Authentication.AuthenticationService.ChallengeAsync(HttpContext context, String scheme, AuthenticationProperties properties)
   at Microsoft.AspNetCore.Authorization.Policy.AuthorizationMiddlewareResultHandler.<>c__DisplayClass0_0.<<HandleAsync>g__Handle|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at BookLibrary.Server.Host.Middleware.ErrorHandlingMiddleware.InvokeAsync(HttpContext context) in C:\Users\Emmijozzy\Desktop\C-sharp\BookLibrary\BookLibrary.Server\BookLibrary.Server.Host\Middleware\ErrorHandlingMiddleware.cs:line 24
2025-04-25 16:41:53.305 +01:00 [ERR] Unexpected error removing refresh token
Microsoft.EntityFrameworkCore.DbUpdateConcurrencyException: The database operation was expected to affect 1 row(s), but actually affected 0 row(s); data may have been modified or deleted since entities were loaded. See https://go.microsoft.com/fwlink/?LinkId=527962 for information on understanding and handling optimistic concurrency exceptions.
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ThrowAggregateUpdateConcurrencyExceptionAsync(RelationalDataReader reader, Int32 commandIndex, Int32 expectedRowsAffected, Int32 rowsAffected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetWithRowsAffectedOnlyAsync(Int32 commandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at BookLibrary.Server.Infrastructure.Security.TokenManagement.RemoveRefreshToken(String userId) in C:\Users\Emmijozzy\Desktop\C-sharp\BookLibrary\BookLibrary.Server\BookLibrary.Server.Infrastructure\Security\TokenManagement.cs:line 158
2025-04-25 16:41:53.920 +01:00 [ERR] Request 0HNC41U7UPPA2:00000003 failed with 401. Path: /api/AuthApi/logout
BookLibrary.Server.Infrastructure.Exceptions.SecurityOperationException: The database operation was expected to affect 1 row(s), but actually affected 0 row(s); data may have been modified or deleted since entities were loaded. See https://go.microsoft.com/fwlink/?LinkId=527962 for information on understanding and handling optimistic concurrency exceptions.
 ---> Microsoft.EntityFrameworkCore.DbUpdateConcurrencyException: The database operation was expected to affect 1 row(s), but actually affected 0 row(s); data may have been modified or deleted since entities were loaded. See https://go.microsoft.com/fwlink/?LinkId=527962 for information on understanding and handling optimistic concurrency exceptions.
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ThrowAggregateUpdateConcurrencyExceptionAsync(RelationalDataReader reader, Int32 commandIndex, Int32 expectedRowsAffected, Int32 rowsAffected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetWithRowsAffectedOnlyAsync(Int32 commandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at BookLibrary.Server.Infrastructure.Security.TokenManagement.RemoveRefreshToken(String userId) in C:\Users\Emmijozzy\Desktop\C-sharp\BookLibrary\BookLibrary.Server\BookLibrary.Server.Infrastructure\Security\TokenManagement.cs:line 158
   --- End of inner exception stack trace ---
   at BookLibrary.Server.Infrastructure.Security.TokenManagement.RemoveRefreshToken(String userId) in C:\Users\Emmijozzy\Desktop\C-sharp\BookLibrary\BookLibrary.Server\BookLibrary.Server.Infrastructure\Security\TokenManagement.cs:line 165
   at BookLibrary.Server.Application.Services.Implementation.AuthenticationService.LogoutAsync(String token) in C:\Users\Emmijozzy\Desktop\C-sharp\BookLibrary\BookLibrary.Server\BookLibrary.Server.Application\Services\Implementation\AuthenticationService.cs:line 91
   at BookLibrary.Server.Host.Controllers.AuthApiController.Logout() in C:\Users\Emmijozzy\Desktop\C-sharp\BookLibrary\BookLibrary.Server\BookLibrary.Server.Host\Controllers\AuthApiController.cs:line 39
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at BookLibrary.Server.Host.Middleware.ErrorHandlingMiddleware.InvokeAsync(HttpContext context) in C:\Users\Emmijozzy\Desktop\C-sharp\BookLibrary\BookLibrary.Server\BookLibrary.Server.Host\Middleware\ErrorHandlingMiddleware.cs:line 24
2025-04-25 16:41:54.000 +01:00 [INF] Request 0HNC41U7UPPA2:00000001 completed successfully. Path: /api/AuthApi/logout
2025-04-25 16:41:54.049 +01:00 [INF] Request 0HNC41U7UPPA2:00000007 completed successfully. Path: /api/AuthApi/RefreshToken
2025-04-25 16:41:54.481 +01:00 [INF] Request 0HNC41U7UPPA2:00000009 completed successfully. Path: /api/Category/all
2025-04-25 16:42:07.213 +01:00 [INF] Received Login Request: {"Email":"josephogunsuyi360@gmail.com","Password":"@Test1234","$type":"LoginUser"}
2025-04-25 16:42:07.453 +01:00 [INF] Request 0HNC41U7UPPA5:00000001 completed successfully. Path: /api/AuthApi/login
2025-04-25 16:42:16.862 +01:00 [INF] Request 0HNC41U7UPPA5:00000003 completed successfully. Path: /api/Book/all
2025-04-25 16:42:27.748 +01:00 [INF] Request 0HNC41U7UPPA7:00000001 completed successfully. Path: /api/Category/all
2025-04-25 17:04:32.394 +01:00 [ERR] Request 0HNC41U7UPPAB:00000001 failed with 401. Path: /api/Book/all
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: Unauthorized: Token has expired.
   at BookLibrary.Server.Infrastructure.DependencyInjection.ServiceContainer.<>c.<AddInfrastructureService>b__0_5(JwtBearerChallengeContext context) in C:\Users\Emmijozzy\Desktop\C-sharp\BookLibrary\BookLibrary.Server\BookLibrary.Server.Infrastructure\DependencyInjection\ServiceContainer.cs:line 80
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerEvents.Challenge(JwtBearerChallengeContext context)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleChallengeAsync(AuthenticationProperties properties)
   at Microsoft.AspNetCore.Authentication.AuthenticationHandler`1.ChallengeAsync(AuthenticationProperties properties)
   at Microsoft.AspNetCore.Authentication.AuthenticationService.ChallengeAsync(HttpContext context, String scheme, AuthenticationProperties properties)
   at Microsoft.AspNetCore.Authorization.Policy.AuthorizationMiddlewareResultHandler.<>c__DisplayClass0_0.<<HandleAsync>g__Handle|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at BookLibrary.Server.Host.Middleware.ErrorHandlingMiddleware.InvokeAsync(HttpContext context) in C:\Users\Emmijozzy\Desktop\C-sharp\BookLibrary\BookLibrary.Server\BookLibrary.Server.Host\Middleware\ErrorHandlingMiddleware.cs:line 24
2025-04-25 17:04:35.356 +01:00 [INF] Request 0HNC41U7UPPAB:00000003 completed successfully. Path: /api/AuthApi/RefreshToken
2025-04-25 17:04:37.597 +01:00 [INF] Request 0HNC41U7UPPAB:00000005 completed successfully. Path: /api/Book/all
2025-04-25 17:06:12.153 +01:00 [INF] Request 0HNC41U7UPPAE:00000001 completed successfully. Path: /api/Category/all
2025-04-25 17:07:41.490 +01:00 [INF] Request 0HNC41U7UPPAH:00000001 completed successfully. Path: /api/Category/all
2025-04-25 17:09:14.247 +01:00 [INF] Request 0HNC41U7UPPAJ:00000003 completed successfully. Path: /api/Category/all
2025-04-25 17:09:14.294 +01:00 [INF] Request 0HNC41U7UPPAJ:00000005 completed successfully. Path: /api/Category/all
2025-04-25 17:09:14.324 +01:00 [INF] Request 0HNC41U7UPPAJ:00000007 completed successfully. Path: /api/Category/all
2025-04-25 17:09:21.332 +01:00 [INF] Request 0HNC41U7UPPAO:00000001 completed successfully. Path: /api/Category/all
2025-04-25 17:09:29.241 +01:00 [INF] Request 0HNC41U7UPPAQ:00000001 completed successfully. Path: /api/Category/all
